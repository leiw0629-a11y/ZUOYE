/* ================== å…¨å±€æ´»åŠ¨å¡ç‰‡ - æœ€ç»ˆç²¾è‡´ç‰ˆ ================== */

/* 1. ç½‘æ ¼å®¹å™¨ */
.admin-map-gallery {
    grid-column: 1 / -1;
    display: grid !important;
    width: 100%;
    grid-template-columns: repeat(auto-fill, minmax(240px, 1fr)); 
    gap: 20px;
    padding: 10px 0;
    box-sizing: border-box;
}

/* 2. å¡ç‰‡æœ¬ä½“ */
.global-card {
    /* ğŸ‘‡ å¿…é¡»åŠ ä¸Šè¿™è¡Œï¼ŒæŠŠé”â€œå…³â€åœ¨å¡ç‰‡é‡Œ */
    position: relative; 
    
    background: #FFFFFF;
    border: 1px solid var(--border);
    border-radius: var(--radius);
    display: flex;
    flex-direction: column;
    
    /* ğŸ‘‡ åŠ ä¸Š hidden å¯ä»¥é˜²æ­¢é”å¤ªå¤§é®ä½åœ†è§’ï¼Œæˆ–è€…ç¨å¾®æº¢å‡ºä¸€ç‚¹ç‚¹ */
    overflow: hidden; 
    
    transition: all 0.2s;
    box-shadow: 0 2px 8px rgba(0,0,0,0.02);
}

/* ä¿®æ”¹åï¼šé¼ æ ‡æ”¾ä¸Šå»å¡ç‰‡ä¸åŠ¨ï¼Œåªæœ‰è¾¹æ¡†å˜è‰² */
.global-card:hover {
    transform: none;      /* ç¦æ­¢ä¸Šæµ® */
    box-shadow: none;     /* ç¦æ­¢é˜´å½±å˜åŒ– (æˆ–è€…ä¿æŒåŸæ · box-shadow: 0 2px 8px rgba(0,0,0,0.02); ) */
    border-color: #FF9800; /* åªå˜é¢œè‰² */
}

/* 3. å¤´éƒ¨ï¼šç­çº§å + å³ä¾§æ ‡ç­¾ */
.gc-header {
    background: #FFF8E1;
    padding: 8px 12px;
    border-bottom: 1px dashed #FFE0B2;
    
    /* âœ… ä¿®æ”¹1ï¼šè®¾ç½®ä¸º relativeï¼Œä½œä¸ºç»å¯¹å®šä½çš„å‚ç…§ç‰© */
    position: relative;
    
    /* âœ… ä¿®æ”¹2ï¼šä½¿ç”¨ flex + center è®©å†…éƒ¨çš„ã€ç­çº§åã€‘å¼ºåˆ¶æ°´å¹³å±…ä¸­ */
    display: flex;
    align-items: center;
    justify-content: center; 
}

/* ç­çº§åå®¹å™¨ */
.gc-class-info {
    /* ä¿æŒ flex æ˜¯ä¸ºäº†è®©é‚£ä¸ª ğŸ« å›¾æ ‡å’Œæ–‡å­—å¯¹é½ */
    display: flex;
    align-items: center;
    gap: 6px;
    font-size: 14px;
    font-weight: 800;
    color: var(--text-main);
    
    /* ç¡®ä¿å®ƒåœ¨å±‚çº§ä¸Šä¸ä¼šè¢«é®æŒ¡ */
    z-index: 1; 
}

/* ä¿®æ”¹ï¼šåªä¿ç•™ä¸€ä¸ªç»¿è‰²å°å‹¾å‹¾ */
.gc-tag-joined {
    /* âœ… æ ¸å¿ƒä¿®æ”¹ï¼šç»å¯¹å®šä½åˆ°å³ä¾§ï¼Œä¸å ä½ */
    position: absolute;
    right: 12px; /* è·ç¦»å³è¾¹çš„è·ç¦»ï¼Œå’Œ padding ä¿æŒä¸€è‡´ */
    top: 50%;    /* å‚ç›´å±…ä¸­ */
    transform: translateY(-50%); 
    
    width: 20px;           
    height: 20px;
    border-radius: 50%;    
    background: #E8F5E9;   
    color: #2E7D32;        
    border: 1px solid #C8E6C9;
    
    display: flex;         
    align-items: center;
    justify-content: center;
    
    font-size: 14px;       
    font-weight: 800;      
    line-height: 1;
    padding: 0;         
    z-index: 2; 
}

/* å¯é€‰ï¼šåŠ ä¸ªå°å‹¾å‹¾å›¾æ ‡ */
.gc-tag-joined::before {
    content: "âœ“ ";
    margin-right: 2px;
    font-weight: 800;
}


.gc-class-name {
    font-size: 14px;
    font-weight: 800;
    color: var(--text-main);
}

/* 4. ä¸­é—´éƒ¨åˆ†ï¼šå†…å®¹è¯¦æƒ… */
.gc-body {
    padding: 12px 15px; /* ç´§å‡‘ä¸€ç‚¹ */
    flex: 1;
    display: flex;
    flex-direction: column;
    gap: 6px; /* è¡Œé—´è·è°ƒå° */
}

/* é€šç”¨è¡Œç»“æ„ï¼šå·¦æ ‡ç­¾ + å³å†…å®¹ */
.gc-row {
    display: flex;
    align-items: baseline; /* æ–‡å­—åŸºçº¿å¯¹é½ */
    gap: 8px;
    font-size: 13px;
    line-height: 1.5;
}

/* å·¦ä¾§æ ‡ç­¾ï¼šç»Ÿä¸€ç°è‰² */
.gc-label {
    color: #999;
    flex-shrink: 0;
    white-space: nowrap;
    min-width: 35px; /* å¯¹é½ç¾è§‚ */
}
.gc-label::after { content: "ï¼š"; }

/* å³ä¾§å†…å®¹ */
.gc-value {
    color: #555;
    font-weight: 500;
    word-break: break-all;
}

/* ç‰¹æ®Šï¼šæ´»åŠ¨åç§°çš„é«˜äº®æ ·å¼ */
.gc-value-title {
    color: #333;
    font-weight: 800; /* ä¿æŒç²—ä½“ */
    font-size: 14px;  /* ç¨å¾®å¤§ä¸€ç‚¹ */
}

/* çŠ¶æ€é¢œè‰² */
.status-text-active { color: #2E7D32; font-weight: bold; }
.status-text-ended { color: #9E9E9E; }

/* 5. åº•éƒ¨ï¼šé€šæ æŒ‰é’®åŒº (èåˆè®¾è®¡) */
.gc-footer {
    border-top: 1px solid #EEE;
    /* å»æ‰ paddingï¼Œè®©æŒ‰é’®å¡«æ»¡ */
    padding: 0; 
    height: 32px; /* å¼ºåˆ¶é«˜åº¦å˜å° */
}

.btn-remove-card {
    width: 100%;
    height: 100%; /* å¡«æ»¡çˆ¶å®¹å™¨ */
    border: none;
    background: #FAFAFA; /* é»˜è®¤ææµ…çš„ç° */
    color: #AAA;
    font-size: 12px;
    cursor: pointer;
    transition: all 0.2s;
    display: flex; 
    align-items: center; 
    justify-content: center; 
    gap: 4px;
}

/* æ‚¬åœæ•ˆæœï¼šå˜æˆçº¢è‰²è­¦å‘Šæ¡ */
.btn-remove-card:hover {
    background: #FFEBEE;
    color: var(--danger);
}

/* ================== é¡¶éƒ¨å·¥å…·æ ä¼˜åŒ– ================== */

/* 1. å³ä¾§æ“ä½œåŒºæ•´ä½“å®¹å™¨ */
.admin-toolbar-right {
    display: flex;
    align-items: center;
    gap: 15px; /* ç­›é€‰ç»„ å’Œ å¥–åŠ±æŒ‰é’® ä¹‹é—´çš„è·ç¦» */
}

/* 2. ç­›é€‰æŒ‰é’®ç»„ (ç±»ä¼¼èƒ¶å›Šçš„å¤–æ¡†) */
.filter-group {
    display: flex;
    background: #FFF;
    border: 1px solid #FFE0B2;
    border-radius: 8px; /* æ•´ä½“åœ†è§’ */
    padding: 2px;       /* å†…è¾¹è·ï¼Œåˆ¶é€ ç•™ç™½æ„Ÿ */
    gap: 2px;           /* æŒ‰é’®ä¹‹é—´çš„å¾®å°ç¼éš™ */
}

/* ç­›é€‰æŒ‰é’®æœ¬ä½“ */
.btn-filter {
    border: none;
    background: transparent;
    padding: 6px 12px;
    font-size: 13px;
    color: #8D6E63;
    border-radius: 6px;
    cursor: pointer;
    transition: all 0.2s;
    font-weight: 500;
}

/* æ‚¬åœçŠ¶æ€ */
.btn-filter:hover {
    background: #FFF3E0;
    color: #E65100;
}

/* é€‰ä¸­çŠ¶æ€ (æ¿€æ´») */
.btn-filter.active {
    background: #FF9800;
    color: white;
    font-weight: bold;
    box-shadow: 0 2px 5px rgba(255, 152, 0, 0.2);
}

/* 3. ç«–çº¿åˆ†éš”ç¬¦ */
.toolbar-divider {
    width: 1px;
    height: 20px;
    background-color: #E0E0E0;
}

/* 4. å¥–åŠ±è®¾ç½®æŒ‰é’® (ç‰¹æ®Šæ ·å¼) */
.btn-reward-settings {
    display: flex;
    align-items: center;
    gap: 6px;
    background: #FFFFFF;
    border: 1px solid #FFCCBC; /* æµ…çº¢è¾¹æ¡† */
    color: #D84315;            /* æ·±çº¢æ–‡å­— */
    padding: 6px 15px;
    border-radius: 20px;       /* èƒ¶å›Šåœ†è§’ */
    font-size: 13px;
    font-weight: bold;
    cursor: pointer;
    transition: all 0.2s;
    box-shadow: 0 2px 6px rgba(0,0,0,0.05);
}

.btn-reward-settings:hover {
    background: #FFEBEE;
    border-color: #FF5722;
    transform: translateY(-1px);
    box-shadow: 0 4px 10px rgba(255, 87, 34, 0.15);
}

/* ================== ğŸ”’ é”å®šçŠ¶æ€æ ·å¼ ================== */

/* 1. ç»™è¢«é”å®šçš„å¡ç‰‡ä¸€ç§â€œä¸å¯ç”¨â€çš„ç°åº¦æ„Ÿ */
.subject-card.is-occupied {
    background-color: #F9FAFB !important; /* å˜æˆæµ…ç°è‰²èƒŒæ™¯ */
    border-color: #E0E0E0 !important;     /* è¾¹æ¡†å˜æ·¡ */
    cursor: not-allowed;                  /* é¼ æ ‡å˜æˆç¦æ­¢ç¬¦å· */
    opacity: 0.9;
    position: relative; /* ç¡®ä¿é”å¤´èƒ½ç»å¯¹å®šä½ */
    overflow: hidden;   /* é˜²æ­¢é”å¤´å¤ªå¤§è¶…å‡ºæ ¼å­ */
}

/* 2. é‚£ä¸ªå·¨å¤§çš„é”å¤´å›¾æ ‡ */
.lock-watermark {
    position: absolute;
    /* æ”¾åœ¨å¡ç‰‡å³ä¸‹è§’ */
    bottom: 40px;      
    right: 15px;      
    
    font-size: 60px;   
    line-height: 1;
    
    /* ğŸ‘‡ å…³é”®ä¿®æ”¹ï¼šåŠ ä¸Šè¿™è¡Œæ»¤é•œï¼ŒæŠŠ Emoji çš„é»„è‰²å»æ‰ï¼Œå˜æˆçº¯ç° */
    filter: grayscale(100%); 
    
    opacity: 0.15;     /* æ·¡æ·¡çš„ç°è‰² */
    
    transform: rotate(-15deg); 
    pointer-events: none;
    z-index: 0;        
}

/* 3. ç»™å¡ç‰‡å†…å®¹ç¨å¾®é™ç‚¹çº§ï¼Œçªå‡ºé” */
.subject-card.is-occupied .act-title {
    color: #9E9E9E !important;
}