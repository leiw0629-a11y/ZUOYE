/* ================== Class Management Module (前缀 cm-) ================== */

/* 1. 模态框遮罩与容器 */
.cm-overlay {
    position: fixed;
    top: 0; left: 0; right: 0; bottom: 0;
    background: rgba(0, 0, 0, 0.4); /* 半透明遮罩 */
    backdrop-filter: blur(4px);     /* 磨砂玻璃效果 */
    display: none;
    justify-content: center;
    align-items: center;
    z-index: 1500;
}
/* 鼠标悬停在行上时，背景变浅橙色 */
    .cm-select-row:hover {
        background-color: #fff7e6; /* 浅橙色背景 */
    }
    /* 选中 checkbox 时也可以让它变色（可选优化） */
    .cm-select-row input:checked + label {
        color: #ff7d55;
        font-weight: bold;
    }
.cm-container {
    width: 850px;
    height: 800px; /* 或者 85vh */
    background: var(--panel-bg, #fff);
    border-radius: var(--radius, 16px);
    box-shadow: 0 10px 30px rgba(0,0,0,0.15);
    display: flex;
    flex-direction: column;
    overflow: hidden;
    border: 4px solid #fff; /* 模拟外边框效果 */
    position: relative;
	 font-family: "Nunito", "PingFang SC", "Microsoft YaHei", "Helvetica Neue", sans-serif;
}

/* 2. 顶部通用标题栏 */
.cm-header {
    height: 60px;
    padding: 0 20px;
    display: flex;
    justify-content: space-between;
    align-items: center;
     /* 【修改】去掉原本的 border-bottom，改为相对定位 */
    border-bottom: none; 
    position: relative; 
    flex-shrink: 0;
}

/* 【新增】使用伪元素画底部的虚线，让它左右各缩进 20px */
.cm-header::after {
    content: "";
    position: absolute;
    bottom: 0;
    left: 20px;   /* 与下方 .cm-body 的 padding: 20px 保持对齐 */
    right: 20px;  /* 右侧同理 */
    border-bottom: 2px dashed #E0E0E0; /* 保持原来的灰色虚线样式 */
}

.cm-header-title {
    font-size: 20px;
    font-weight: 800;
    color: #4A4A4A;
    display: flex;
    align-items: center;
    gap: 10px;
}
.cm-icon-school { font-size: 24px; }

.cm-btn-close {
    font-size: 28px;
    color: #FF8E53; /* 使用你的品牌橙色 */
    background: none;
    cursor: pointer;
    font-weight: bold;
    padding: 0 10px;
    transition: 0.2s;
}
.cm-btn-close:hover { transform: scale(1.1); color: #FF6B6B; }

/* 3. 左右布局容器 */
.cm-body {
    display: flex;
    flex: 1;
    overflow: hidden; 
    background: #fff; /* 背景改为纯白，因为里面要放灰色的侧边栏卡片 */
    
    /* 【新增/修改】关键部分 */
    padding: 20px;    /* 上下左右留白，产生“悬浮”感 */
    gap: 20px;        /* 左边栏和右边内容的间距 */
    box-sizing: border-box; 
}

/* --- 左侧边栏 --- */
.cm-sidebar {
    width: 160px;         /* 【可选】稍微宽一点点看着更大气 */
    background: #F5F7FA;  /* 保持灰色背景 */
    
    /* 【修改】去掉右边框，改为圆角 */
     border-right: 1px dashed #FFCC80;   
    border-radius: 16px;  /* 四个角变圆 */
    
    padding: 20px 15px;
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 15px;
    
    /* 【新增】确保它不会被压缩 */
    flex-shrink: 0; 
}

.cm-sidebar-label {
    width: 100%;
    text-align: center;
    padding-left: 0;
    font-size: 13px;
    color: #5D4037;
    font-weight: bold;
    /* 【修改三】添加底部灰色分割线 */
    border-bottom: 1px solid #E0E0E0; /* 截图中的浅灰色细线 */
    padding-bottom: 10px;             /* 线与文字的距离 */
    margin-bottom: 10px;              /* 线与下方按钮的距离 */
}

/* 菜单项大按钮 (卡片风格) */
.cm-menu-item {
    width: 140px;
    height: 75px; /* 卡片高度 */
    background: #fff; /* 白色背景 */
    border-radius: 12px;
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    cursor: pointer;
    
    /* 默认状态的边框和阴影 */
    border: 2px solid transparent; 
    box-shadow: 0 4px 12px rgba(0,0,0,0.05); /* 淡淡的阴影 */
    
    transition: all 0.2s;
    color: #606266;
    font-weight: bold;
    font-size: 14px;
}

.cm-menu-item:hover {
    transform: translateY(-3px);
    box-shadow: 0 6px 16px rgba(0,0,0,0.1);
}

/* 激活状态 (还原截图：粉红背景 + 红色边框) */
.cm-menu-item.active {
    background: #FFF0F0; /* 极淡的粉色背景 */
    border-color: #FF5252; /* 红色边框 */
    color: #D32F2F;        /* 文字变红 */
    box-shadow: 0 4px 12px rgba(255, 82, 82, 0.15);
}
/* 1. 未选中的菜单：鼠标移上去变淡黄 + 橙色边框 (参考你的截图) */
.cm-menu-item:not(.active):hover {
    background: #FFFBEA;   /* 浅黄色背景 */
    border-color: #FFCC80; /* 橙黄色边框 */
    transform: translateY(-3px);
    box-shadow: 0 6px 16px rgba(0,0,0,0.08);
    color: #5D4037;        /* 文字稍微变深一点 */
}
/* 2. 已选中的菜单 (active)：鼠标移上去保持红色风格，不变黄 */
.cm-menu-item.active:hover {
    background: #FFF0F0;   /* 保持粉红 */
    border-color: #FF5252; /* 保持红框 */
    color: #D32F2F;        /* 保持红字 */
    transform: translateY(-3px); /* 依然有上浮效果 */
    box-shadow: 0 4px 12px rgba(255, 82, 82, 0.2);
}


/* 左下角小贴士 */
.cm-tips-card {
    margin-top: auto; /* 推到底部 */
    width: 140px;
    background: #EEE8E3; /* 浅咖色背景 */
    border-radius: 10px;
    padding: 15px;
    font-size: 12px;
    color: #5D4037;
    border: 1px solid #E0D4CC;
}

.cm-tips-title {
    font-weight: 800;
    margin-bottom: 8px;
    display: flex; align-items: center; gap: 5px;
}

.cm-tips-list {
    margin: 0; padding: 0 0 0 15px;
    line-height: 1.6;
}

/* --- 右侧内容区 --- */
.cm-content {
    flex: 1;
    display: flex;
    flex-direction: column;
    background: #fff;
    
    /* 【修改】内容区的内边距可以减小，因为外层 body 已经有 padding 了 */
    padding: 0; 
    
    /* 【新增】如果想要右边也有圆角边界感，可以加这个，不加也行 */
    border-radius: 16px; 
    overflow: hidden; /* 确保圆角不被内部内容切掉 */
}
/* ========================================================== */
/* 【关键修复】强制让所有视图层 (view-xxx) 撑满高度并开启 Flex */
/* ========================================================== */
.cm-content > div {
    height: 100%;            /* 强制占满右侧所有高度 */
    display: flex;           /* 开启 Flex 布局 */
    flex-direction: column;  /* 垂直排列 (头部在上，列表在下) */
    overflow: hidden;        /* 掐断溢出，强制内部滚动 */
}
/* 内容区顶部条 */
.cm-content-top {
    height: 50px;
    display: flex;
    align-items: center;
	   /* 【新增】让左右两个按钮分别贴边 */
    justify-content: space-between; 
    border-bottom: 2px dashed #FFF3E0;
    margin-bottom: 1px;
	position: relative;
	
}

.cm-btn-back {
    background: none;
    color: #FF8E53;
    font-weight: bold;
    font-size: 14px;
    border: none;
    cursor: pointer;
}

.cm-class-name {
    margin: 0;
    color: #5D4037;
    font-size: 18px;
    
    /* 【新增】绝对居中定位 */
    position: absolute;
    left: 50%;
    transform: translateX(-50%);
    white-space: nowrap; /* 防止文字换行 */
}

.cm-btn-add {
     /* 【修改】颜色改为橙色系 */
    background: #FF8A65; 
    color: white;
    
    padding: 6px 16px;
    border-radius: 20px;
    font-size: 13px;
    font-weight: bold;
    border: none; /* 确保无边框 */
    cursor: pointer;
    
    /* 【修改】阴影也改橙色 */
    box-shadow: 0 4px 10px rgba(255, 138, 101, 0.3);
    transition: 0.2s;
}
.cm-btn-add:hover {
    background: #FF7043;
    transform: translateY(-1px);
}
/* 表格结构 */
.cm-table-wrapper {
    flex: 1;
    display: flex;
    flex-direction: column;
    overflow: hidden;
}

.cm-table-header {
    display: flex;
    padding: 12px 0;
    background: #FFF9F0;
    border-radius: 8px;
    font-weight: 800;
    color: #5D4037;
    margin-bottom: 0;
	border-bottom: 2px solid #FFAB91; 
}

.cm-col-name { 
    width: 30%; 
    text-align: center;
    
    /* 【新增/修改】以下样式使其与班级名称一致 */
    color: #5D4037; 
    font-weight: bold; 
    font-size: 13px; 
}
.cm-col-group  { width: 35%; text-align: center; font-size: 13px;}
.cm-col-action { width: 35%; text-align: center; font-size: 13px;}

/* 滚动列表 */
.cm-table-body {
    flex: 1;
    overflow-y: auto;
    padding-right: 5px; /* 留位置给滚动条 */
}

/* 行样式 */
.cm-row {
    display: flex;
    align-items: center;
    padding: 10px 0;
    border-bottom: 1px solid #FFF3E0;
    transition: 0.2s;
}
.cm-row:hover { background: #FAFAFA; }

/* 分组标签 */
.cm-tag {
    display: inline-block;
    padding: 4px 12px;
    border-radius: 20px;
    font-size: 12px;
    font-weight: 800;
}
.cm-tag-orange { background: #FFF3E0; color: #E65100; }
.cm-tag-yellow { background: #FFF8E1; color: #F57F17; }
.cm-tag-gray   { background: #EEEEEE; color: #757575; }

/* 操作按钮 */
.cm-btn-opt {
    background: white;
    border: 1px solid;
    padding: 4px 12px;
    border-radius: 15px;
    font-size: 12px;
    cursor: pointer;
    margin: 0 4px;
    transition: 0.2s;
}
/* --- 蓝色按钮 (改名) --- */
.cm-btn-blue {
    border-color: #BBDEFB;
    color: #1976D2;
    background: #fff; /* 【修改】默认背景改为白色 */
}
.cm-btn-blue:hover {
    background: #E3F2FD; /* 【修改】鼠标移上去变回浅蓝色 */
    border-color: #2196F3; /* 可选：边框加深一点点 */
}
.cm-btn-red {
    border-color: #FFCDD2;
    color: #D32F2F;
    background: #fff; /* 【修改】默认背景改为白色 */
}
.cm-btn-red:hover {
    background: #FFEBEE; /* 【修改】鼠标移上去变回浅红色 */
    border-color: #F44336; /* 可选：边框加深一点点 */
}
/* 针对内部滚动条的微调 */
.cm-table-body::-webkit-scrollbar { width: 4px; }
.cm-table-body::-webkit-scrollbar-thumb { background: #E0E0E0; border-radius: 4px; }

/* ================== 新增：班级列表样式 ================== */

/* 1. 班级列表的列宽定义 (根据截图比例) */
.cm-col-c1 { width: 25%; text-align: center; color: #5D4037; font-weight: bold;  font-size: 13px;}
.cm-col-c2 { 
    width: 15%; 
    text-align: center; 
    
    /* 【修改】以下三行改为和班级名称一致 */
    color: #5D4037; 
    font-size: 13px; 
}
.cm-col-c3 { width: 20%; text-align: center; font-size: 13px;}
.cm-col-c4 { width: 40%; text-align: center; display: flex; justify-content: center; gap: 8px; font-size: 13px;}

/* 2. 状态徽章 (绿色胶囊) */
.cm-status-badge {
    background: #E8F5E9;
    color: #2E7D32;
    padding: 4px 12px;
    border-radius: 12px;
    font-size: 12px;
    font-weight: bold;
}

.cm-btn-icon {
    /* --- 核心修改区域 --- */
    width: 60px;              /* 【修改】固定宽度 60px */
    padding: 1px 0;           /* 【修改】上下内边距改小(比如3px)，左右设为0(由width控制) */
    text-align: center;       /* 【新增】确保文字水平居中 */
    justify-content: center;  /* 【新增】确保图标和文字整体居中 */
    
    /* --- 保持原样 --- */
    border: 1px solid #29B6F6; 
    color: #0288D1; 
    background: white;
    font-size: 12px;
    border-radius: 6px;
    cursor: pointer;
    margin-right: 4px;
    
    /* 防止被压缩 */
    display: inline-flex; 
    align-items: center;
    box-sizing: border-box;
}

/* 蓝色 - 学生按钮 */
.cm-btn-cyan {
    border-color: #4FC3F7;
    color: #0288D1;
}
.cm-btn-cyan:hover {
    background: #E1F5FE;
}

/* 橙色 - 分组按钮 */
.cm-btn-orange {
    border-color: #FFB74D;
    color: #F57C00;
}
.cm-btn-orange:hover {
    background: #FFF3E0;
}

/* 仅图标的按钮 (删除) */
.cm-btn-icon-only {
    background: transparent !important; /* 强制透明背景 */
    border: none !important;            
    color: #999;
    width: 32px;
    height: 32px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    transition: 0.2s;
    font-size: 14px;
}
.cm-btn-icon-only:hover {
    border-color: #FFCDD2;
    background: #FFEBEE;
    color: #D32F2F;
}

/* 1. 顶部“新建小组”按钮 (橙红色渐变风格) */
.cm-btn-add-group {
    background: #FF8A65; 
    color: white;
    padding: 6px 16px;
    border-radius: 20px;
    font-size: 13px;
    font-weight: bold;
    border: none;
    cursor: pointer;
    box-shadow: 0 3px 8px rgba(255, 138, 101, 0.4);
    transition: 0.2s;
}
.cm-btn-add-group:hover {
    background: #FF7043;
    transform: translateY(-1px);
}

/* 2. 内容区域布局 (网格/卡片容器) */
.cm-group-body {
    flex: 1;
    overflow-y: auto;
    padding: 10px 5px 20px 5px; /* 留点余地给滚动条和阴影 */
    display: flex;
    flex-wrap: wrap;
    gap: 20px; /* 卡片之间的间距 */
    align-content: flex-start;
}

/* 3. 分组卡片主体 */
.cm-group-card {
    width: 46%; /* 一行两个 */
    background: #fff;
    border: 1px solid #FFCC80; /* 淡橙色边框 */
    border-radius: 12px;
    overflow: hidden;
    display: flex;
    flex-direction: column;
    box-shadow: 0 2px 6px rgba(0,0,0,0.02);
	  transition: all 0.2s;
	  min-height: 200px;
}
/* 【新增】鼠标悬停样式：背景变暖，边框变深，阴影加重 */
.cm-group-card:hover {
    border-color: #FF9800;     /* 边框变深橙色 */
	background-color: #fff;  
	transform: translateY(-4px); 
    box-shadow: 0 6px 16px rgba(255, 152, 0, 0.2); 
}
/* 针对未分组卡片的特殊样式 */
.cm-group-card.cm-card-gray {
    width: 47%; /* 未分组占满一行 */
    border: 1px dashed #E0E0E0; /* 灰色虚线边框 */
    margin-top: 0;
}

/* 4. 卡片头部 */
.cm-group-header {
    background: #FFF8E1; /* 极淡的橙黄色背景 */
    padding: 6px 15px;
    display: flex;
    justify-content: space-between;
    align-items: center;
    border-bottom: 1px solid #FFE0B2;
}

/* 未分组的头部背景变灰 */
.cm-card-gray .cm-group-header {
    background: #EEEEEE;
    border-bottom: 1px solid #E0E0E0;
}

.cm-group-title {
    font-weight: 800;
    color: #E65100;
    font-size: 14px;
    display: flex;
    align-items: center;
    gap: 6px;
}
.cm-shield-icon {
    color: #29B6F6; /* 盾牌图标颜色 */
}

/* 5. 卡片内容区 */
.cm-group-content {
    padding: 15px;
    display: flex;
    flex-direction: column;
    gap: 15px;
}

/* 成员列表容器 */
.cm-member-list {
    display: flex;
    flex-wrap: wrap;
    gap: 10px;
	 height: 80px; 
    overflow-y: auto;
    align-content: flex-start; /* 防止只有一行时内容被拉伸 */
}
/* 美化一下这个滚动条，让它细一点 */
.cm-member-list::-webkit-scrollbar { width: 3px; }
.cm-member-list::-webkit-scrollbar-thumb { background: #FFCC80; border-radius: 4px; }

/* 6. 成员标签 (药丸形状) */
.cm-member-chip {
    border: 1px solid #FFCCBC;
    background: #fff;
    border-radius: 20px;
    padding: 4px 10px;
    font-size: 13px;
    color: #5D4037;
    font-weight: normal;
    display: flex;
    align-items: center;
    gap: 6px;
    transition: 0.2s;
	cursor: default; 
    user-select: none;
}
.cm-member-chip:hover {
    border-color: #FFAB91;
    background: #FFFBEA;
}

/* 标签上的删除叉号 */
.cm-chip-close {
    color: #FF8A65;
    cursor: pointer;
    font-weight: bold;
    font-size: 14px;
    line-height: 1;
}
.cm-chip-close:hover {
    color: #D32F2F;
}

/* 7. 底部虚线按钮 (添加组员) */
.cm-btn-dashed-add {
    width: 100%;
    border: 1px dashed #FFB74D;
    background: #FFFBF5;
    color: #F57C00;
    padding: 8px 0;
    text-align: center;
    border-radius: 8px;
    cursor: pointer;
    font-size: 13px;
    font-weight: bold;
    transition: 0.2s;
}
.cm-btn-dashed-add:hover {
    background: #FFF3E0;
    border-color: #FF9800;
}

/* 简单的灰色文字 */
.cm-text-gray {
    color: #9E9E9E;
    font-size: 13px;
    padding-left: 5px;
}

/* ================== 新增：新建班级表单样式 ================== */

.cm-form-body {
    flex: 1;
    
    /* 【修改这里】 */
    /* 原本是 padding: 30px 60px; (上下30，左右60，太挤了) */
    /* 改为 10px 0; 或者 0; 都可以，因为外层 cm-content 已经有 20px 的边距了 */
    padding: 10px 0; 
    
    display: flex;
    flex-direction: column;
    gap: 20px; /* 【可选】如果觉得垂直间距也太大，可以把这个 25px 改成 15px 或 20px */
    height: 100%; 
    box-sizing: border-box;
    overflow: hidden; 
}

.cm-form-group {
    display: flex;
    flex-direction: column;
    gap: 10px;
}

.cm-label {
    font-size: 15px;
    font-weight: 800;
    color: #FF7043; /* 橙红色标题 */
    display: flex;
    align-items: center;
    gap: 6px;
}

/* 标签行（为了让导入按钮在右边） */
.cm-label-row {
    display: flex;
    justify-content: space-between;
    align-items: center;
}

/* 输入框样式 */
.cm-input {
    width: 100%;
    padding: 12px 15px;
    border: 2px solid #FFCCBC; /* 浅橙色边框 */
    border-radius: 10px;
    font-size: 14px;
    outline: none;
    transition: 0.2s;
    color: #5D4037;
    font-family: inherit;
    box-sizing: border-box; /* 防止宽度溢出 */
}
.cm-input:focus {
    border-color: #FF7043;
    background: #FFFBF7;
}

/* 2. 文本域：自动伸缩，填满剩余空间 */
.cm-textarea {
    width: 100%;
    flex: 1;       /* 【关键】自动伸展，填满剩下的所有高度 */
    height: 100%;  /* 配合 flex 使用 */
    padding: 15px;
    border: 2px solid #FFCCBC;
    border-radius: 12px;
    font-size: 14px;
    outline: none;
    resize: none;
    color: #5D4037;
    font-family: inherit;
    line-height: 1.6;
    box-sizing: border-box;
}

.cm-textarea:focus {
    border-color: #FF7043;
    background: #FFFBF7;
}

/* 导入TXT小按钮 */
.cm-btn-import-txt {
    background: #FFF3E0;
    color: #F57C00;
    border: 1px solid #FFE0B2;
    padding: 4px 12px;
    border-radius: 6px;
    font-size: 12px;
    font-weight: bold;
    cursor: pointer;
    transition: 0.2s;
}
.cm-btn-import-txt:hover {
    background: #FFE0B2;
}

/* 底部大按钮 */
.cm-btn-create-big {
    width: 100%;
    background: linear-gradient(135deg, #FF8A65, #FF7043); /* 橙色渐变 */
    color: white;
    border: none;
    padding: 14px 0;
    border-radius: 50px;
    font-size: 16px;
    font-weight: 800;
    cursor: pointer;
    box-shadow: 0 6px 20px rgba(255, 112, 67, 0.3);
    transition: 0.2s;
    display: flex;
    justify-content: center;
    align-items: center;
    gap: 8px;
}
.cm-btn-create-big:hover {
    transform: translateY(-2px);
    box-shadow: 0 8px 25px rgba(255, 112, 67, 0.4);
}

/* ================== 新增：录入学生弹窗样式 ================== */

/* 文本域聚焦时的样式 */
#inp-student-names:focus {
    border-color: #FF7043 !important;
    background-color: #FFFBF7;
}

/* 弹窗内的按钮 hover 效果 */
#modal-add-student button:hover {
    transform: translateY(-1px);
    opacity: 0.95;
}